// WOM Javascript library by Ivan Garrido (https://github.com/pweak/wom-js)
var d=null;
window.womLib={wom:d,librariesLoaded:{},documentHead:d,mode:"tree",debug:!0,log:function(b){"undefined"!=typeof console&&("undefined"!=typeof this.debug&&this.debug)&&console.log("WOM: "+b)},init:function(b){this.a=b;this.h=document.getElementsByTagName("HEAD")[0];this.l();d!=this.a&&this.k(this.a.b)},check:function(b){if(d==b)d!=this.a&&("string"==typeof this.a&&(this.a=[this.a]),"object"!=typeof this.a?this.a=d:("object"==typeof this.a&&"function"==typeof this.a.push&&(this.mode="list",this.a={dependents:this.a}),
"object"!=typeof this.a.b&&"object"==typeof this.a.g&&(this.a.b=this.a.g)));else{if(d==b)return d;"string"==typeof b&&(b={src:b});if("function"==typeof b)return b;if("object"!=typeof b||("object"!=typeof b||d==b)||"string"!=typeof b.src)return d;"string"!=typeof b.name&&(b.name=b.src.substring(1+b.src.lastIndexOf("/")));"object"!=typeof b.b&&"object"==typeof b.g&&(b.b=b.g);"function"==typeof b.b&&(b.b=[b.b]);"number"==b.version&&(b.version=""+b.version);"string"!=b.version&&(b.version="0");return b}},
run:function(b){for(var a=0;a<b.length;++a){var c=b[a],c=this.l(c);if(d==c)this.log("Wrong config detected. Trying to ignore...");else if("object"==typeof c&&"string"==typeof c.src)if(c.c=0,c.status="loading","list"==this.mode&&("undefined"==typeof c.b&&(c.b=[]),c.b=c.b.concat(b.slice(1))),this.e[c.name]=c,"undefined"!=typeof c.i&&!1!=c.i){var e=c.src.match(/((https?)?:\/\/)?[^\/]+\//),e=e[0];0>=e.indexOf(".")||e==location.protocol+"//"+location.host+"/"?this.m(c.name):(this.log("Can't cache external reference:"+
c.name),this.j(c.name))}else{if(this.j(c.name),"list"==this.mode)break}else"function"==typeof c&&c()}},loadJs:function(b,a){if(""!=b){if("object"!=typeof a||d==a)a=this.e[b];if(!("object"!=typeof a||d==a)){if(0!=a.c)if("undefined"!=("string"!=typeof a.f||""==a.f||0<=a.f.indexOf("-")?"No check":eval("typeof "+a.f)))a.status="success";else{var c=document.getElementById(b+"-"+(a.c-1));c.parentNode.removeChild(c);c=d;a.status="retrying"}5<=a.c||("completed"==a.status||"success"==a.status?"object"==typeof a.b&&
this.k(a.b):(c=document.createElement("script"),c.id=b+"-"+a.c,c.type="text/javascript",c.src=a.src,this.h.appendChild(c),a.c+=1,this.e[b]=a,window.setTimeout(function(){womLib.j(b)},250*a.c,"JavaScript")))}}},loadJsFromCache:function(b,a){if(""!=b){if("object"!=typeof a||d==a)a=this.e[b];if(!("object"!=typeof a||d==a)){if(0!=a.c){if(d!=a.responseText){"undefined"!=typeof localStorage&&(localStorage.setItem(b,a.responseText),localStorage.setItem(b+"-WOMtime",(new Date).getTime()),localStorage.setItem(b+
"-WOMversion",a.version));var c=document.createElement("script");c.id=b+"-"+a.c;c.type="text/javascript";var e=a.responseText;"function"==typeof c.appendChild?(e=document.createTextNode(e),c.appendChild(e)):c.text=e;this.h.appendChild(c);a.status="completed";this.log("Library "+b+" has been cached.")}}else if("undefined"!=typeof localStorage&&(e=localStorage.getItem(b))){var c=localStorage.getItem(b+"-WOMtime"),h=localStorage.getItem(b+"-WOMversion");d!=c&&d!=h&&(new Date).getTime()-c<1E3*a.i&&h==
a.version?(c=document.createElement("script"),c.id=b+"-"+a.c,c.type="text/javascript","function"==typeof c.appendChild?(e=document.createTextNode(e),c.appendChild(e)):c.text=e,this.h.appendChild(c),a.status="completed",this.log("Library "+b+" retrieved from cache.")):this.log("Library "+b+" has expired (T:"+((new Date).getTime()-c)/1E3+"s; V:"+a.version+").")}5<=a.c?this.log("Library "+b+" can't be loaded (num retries exceeded)."):"completed"==a.status||"success"==a.status?"object"==typeof a.b&&this.k(a.b):
(a.responseText=d,window.XMLHttpRequest?a.d=new XMLHttpRequest:window.ActiveXObject&&(a.d=new ActiveXObject("Microsoft.XMLHTTP")),a.d.open("GET",a.src,!0),a.d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.d.onreadystatechange=function(){4==a.d.readyState&&(a.responseText=a.d.responseText)},a.d.send(),a.c+=1,this.e[b]=a,window.setTimeout(function(){womLib.m(b)},1E3*a.c,"JavaScript"))}}}};
if("object"==typeof womLib&&d==document.getElementById("womScript")&&d==womLib.a){var f=document.createElement("script");f.id="womScript";f.type="text/javascript";var g="if( 'object' == typeof wom ) { womLib.init( wom ); }";"function"==f.appendChild?(g=document.createTextNode("if( 'object' == typeof wom ) { womLib.init( wom ); }"),f.appendChild(g)):f.text=g;document.getElementsByTagName("HEAD")[0].appendChild(f)};
//@ sourceMappingURL=https://raw.github.com/pweak/wom-js/master/js/wom.min.js
